<h1>Modifier le Produit</h1>

<%= form_with model: @product, url: product_path(@product), local: true, method: :patch do |f| %>
  <div class="form-group">
    <%= f.label :name, "Nom du produit" %>
    <%= f.text_field :name, class: "form-control", required: true %>
  </div>

  <div class="form-group">
    <%= f.label :price, "Prix (€)" %>
    <%= f.number_field :price, step: 0.01, class: "form-control", required: true %>
  </div>

  <div class="form-group">
    <%= f.label :description, "Description" %>
    <%= f.text_area :description, class: "form-control", required: true %>
  </div>

  <div class="form-group">
    <% if @product.image.attached? %>
      <p>Image actuelle :</p>
      <%= image_tag @product.image.variant(resize_to_limit: [100, 100]) %>
    <% end %>
    <%= f.label :image, "Changer l'image" %>
    <%= f.file_field :image, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.submit "Mettre à jour", class: "btn btn-success" %>
  </div>
<% end %>

<%= link_to "Retour", product_path(@product), class: "btn btn-secondary" %>
